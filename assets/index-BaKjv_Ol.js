import{r as c,G as F,j as e,c as h,N as S,I as f,i as k,b as D,a as T,d as L,L as y}from"./index-Cmpk2Ixb.js";import{B as E}from"./Breadcrumbs-BI6SChkw.js";import{P as G}from"./ProductsSlider-CN0zqqVv.js";import{B as R}from"./ButtonBack-Bf1hoPAj.js";import{L as M}from"./Loader-BiGTqj4c.js";import"./ProductCard-iUAZ2YWl.js";const w={graphite:"#383838",gold:"#FFD700",sierrablue:"#6CABDD",black:"#000000",rosegold:"#B76E79",silver:"#C0C0C0",spacegray:"#4B4F54",white:"#FFFFFF",yellow:"#FFFF00",red:"#FF0000",coral:"#FF7F50",midnight:"#2C3E50",purple:"#800080",spaceblack:"#1D1D1D",blue:"#0000FF",pink:"#FFC0CB",green:"#008000",midnightgreen:"#004953"},C=(s,l)=>s.find(t=>t.itemId===l),H=({selectedProduct:s,specificProducts:l})=>{const{allProducts:t,cart:n,favorites:o,toggleFavorites:P,addToCart:p,theme:x}=c.useContext(F),[_,d]=c.useState(0),m=c.useCallback(a=>{const i=C(t,a.id);i&&p(i)},[p,t]),N=c.useCallback(a=>{const i=C(t,a.id);i&&P(i)},[t,P]),g=c.useCallback((a,i)=>{const{color:B,namespaceId:$,capacity:A}=s,u=l.find(({color:v,namespaceId:I,capacity:b})=>I===$&&(a==="color"&&v===i&&b===A||a==="capacity"&&b===i&&v===B));return(u==null?void 0:u.id)??""},[s,l]),r=c.useMemo(()=>n.some(a=>a.id===s.id),[n,s.id]),j=c.useMemo(()=>o.some(a=>a.itemId===s.id),[o,s.id]);return e.jsxs("div",{className:"detailsPage__content-top",children:[e.jsx("div",{className:"detailsPage__container-imageSlider",children:s.images.map((a,i)=>e.jsx("div",{className:h("detailsPage__container-photos",{"detailsPage__container-photos--active":_===i}),children:e.jsx("img",{src:`./${a}`,alt:`Thumbnail ${i+1}`,className:"detailsPage__photo",onClick:()=>d(i)})},i))}),e.jsx("div",{className:"detailsPage__photo-mask",children:s.images.map((a,i)=>e.jsx("img",{src:`./${a}`,alt:`Selected Photo ${i+1}`,className:h("detailsPage__image",{"detailsPage__image--active":_===i})},i))}),e.jsxs("div",{className:"detailsPage__characteristics",children:[e.jsxs("div",{className:"detailsPage__colors",children:[e.jsx("span",{className:`
              detailsPage__colors-title detailsPage__info`,children:"Available colors"}),e.jsx("ul",{className:"detailsPage__colors-list",children:s.colorsAvailable.map(a=>e.jsx(S,{to:`/${s.category}/${g("color",a)}`,children:e.jsx("li",{className:h("detailsPage__color-item",{"detailsPage__color-item--selected":s.color===a}),children:e.jsx("span",{className:"detailsPage__color-circle",style:{backgroundColor:w[a]}})},a)},a))})]}),e.jsx("div",{className:"detailsPage__line"}),e.jsxs("div",{className:"detailsPage__capacity",children:[e.jsx("span",{className:`
                detailsPage__capacity-title detailsPage__info`,children:"Select capacity"}),e.jsx("ul",{className:"detailsPage__capacity-list",children:s.capacityAvailable.map(a=>e.jsx(S,{to:`/${s.category}/${g("capacity",a)}`,style:{textDecoration:"none"},children:e.jsx("li",{className:h("detailsPage__capacity-item",{"detailsPage__capacity-item--selected":s.capacity===a}),children:e.jsx("span",{className:h("detailsPage__capacity-block",{"detailsPage__capacity-block--selected":s.capacity===a}),children:a.split("GB").join(" GB")})},a)},a))})]}),e.jsx("div",{className:"detailsPage__line"}),e.jsxs("div",{className:"detailsPage__container-price",children:[e.jsx("span",{className:"detailsPage__price-discount",children:`$${s.priceDiscount}`}),e.jsx("span",{className:"detailsPage__price-regular",children:`$${s.priceRegular}`})]}),e.jsxs("div",{className:"detailsPage__container-buttons",children:[e.jsx("button",{className:h("detailsPage__button","detailsPage__button-card",{"detailsPage__button-card--active":r}),onClick:()=>m(s),children:r?"Added":"Add to cart"}),e.jsx("button",{className:h("detailsPage__button","detailsPage__button-favorites",{"detailsPage__button-favorites--active":j}),onClick:()=>N(s),children:j?e.jsx(f,{icon:k.favorites__filled[x]}):e.jsx(f,{icon:k.favorites[x]})})]}),e.jsxs("div",{className:"detailsPage__container-specifications",children:[e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Screen"}),e.jsx("span",{className:"detailsPage__value",children:s.screen})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Resolution"}),e.jsx("span",{className:"detailsPage__value",children:s.resolution})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Processor"}),e.jsx("span",{className:"detailsPage__value",children:s.processor})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"RAM"}),e.jsx("span",{className:"detailsPage__value",children:s.ram})]})]})]})]})},z=({selectedProduct:s})=>e.jsxs("div",{className:"detailsPage__content-buttom",children:[e.jsxs("div",{className:"detailsPage__block-about",children:[e.jsx("h3",{className:"detailsPage__block-title",children:"About"}),e.jsx("div",{className:"detailsPage__line-bottom"}),e.jsx("div",{className:"detailsPage__description",children:s.description.map((l,t)=>e.jsxs("div",{className:"detailsPage__section",children:[e.jsx("span",{className:"detailsPage__section-title",children:l.title}),e.jsx("span",{className:"detailsPage__section-description",children:l.text})]},t))})]}),e.jsxs("div",{className:"detailsPage__block-techSpecs",children:[e.jsx("h3",{className:"detailsPage__block-title",children:"Tech specs"}),e.jsx("div",{className:"productDetailsPage__line-bottom"}),e.jsxs("div",{className:"detailsPage__techSpecs-content",children:[e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Screen"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.screen})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Resolution"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.resolution})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Processor"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.processor})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"RAM"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.ram})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Built in memory"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.capacity})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Camera"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.camera})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Zoom"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.zoom})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Cell"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.cell.join(", ")})]})]})]})]}),Y=(s,l,t)=>s.filter(n=>n.category===l&&n.itemId!==t).sort(()=>.5-Math.random()),U=()=>{const{allProducts:s}=c.useContext(F),{productId:l=""}=D(),[t,n]=c.useState(null),[o,P]=c.useState([]),[p,x]=c.useState(!0),[_,d]=c.useState(""),m=T().pathname.split("/")[1];c.useEffect(()=>{x(!0),d("");const g=setTimeout(()=>{L(m).then(r=>{P(r);const j=r.find(a=>a.id===l);j?(n(j),d("")):(n(null),d("Product not found"))}).catch(r=>{d(`
            Error loading products: The product category "${m}" does not exist. ${r.message}`)}).finally(()=>{x(!1)})},500);return()=>clearTimeout(g)},[m]),c.useEffect(()=>{if(!l||!o.length)return;const g=o.find(r=>r.id===l);g?(n(g),d("")):(n(null),d("Product not found"))},[l,o]);const N=l?Y(s,m,l):[];if(p)return e.jsx("div",{className:"detailsPage",children:e.jsx(M,{})});if(_)return e.jsx("div",{className:"detailsPage",children:e.jsxs("div",{className:"detailsPage__error-message",children:[e.jsx("span",{children:_}),e.jsx(y,{to:"/",className:"detailsPage__error-link",children:"Go to HomePage"})]})});if(t)return e.jsxs("div",{className:"detailsPage",children:[_&&!p&&e.jsxs("div",{className:"error-message",children:[e.jsx("span",{children:_}),e.jsx(y,{to:"/",children:"Go to HomePage"})]}),e.jsx(E,{productType:m,productName:t.name}),e.jsx(R,{}),e.jsx("h2",{className:"detailsPage__title",children:t.name}),e.jsx(H,{selectedProduct:t,specificProducts:o}),e.jsx(z,{selectedProduct:t}),e.jsx("div",{className:"detailsPage__like-block",children:e.jsx(G,{title:"You may also like",products:N,displayType:"with-discount"})})]})};export{U as ProductDetailsPage};
