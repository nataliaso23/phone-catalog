import{r as c,G as p,j as t,I as i,i as m,L as j,c as N,a as g}from"./index-Cmpk2Ixb.js";import{B as C}from"./ButtonBack-Bf1hoPAj.js";const x=c.memo(({cartProduct:{id:a,product:{name:n,price:r,image:d,category:_},quantity:s}})=>{const{updateQuantity:o,theme:e}=c.useContext(p),l=c.useMemo(()=>r*s,[r,s]);return t.jsxs("div",{className:"cartItem",children:[t.jsxs("div",{className:"cartItem__wrapperTop",children:[t.jsx("button",{className:"cartItem__icon-close",onClick:()=>o(a,0),children:t.jsx(i,{icon:m.close__disabled[e]})}),t.jsxs(j,{to:`/${_}/${a}`,className:"cartItem__link",children:[t.jsx("img",{src:d,alt:"Image product",className:"cartItem__image"}),t.jsx("div",{className:"cartItem__title",children:n})]})]}),t.jsxs("div",{className:"cartItem__wrapperBottom",children:[t.jsxs("div",{className:"cartItem__counter-container",children:[t.jsx("button",{className:N("cartItem__button",{"cartItem__button--disabled":s===1}),onClick:()=>{s>1&&o(a,s-1)},children:s===1?t.jsx(i,{icon:m.minus__disabled[e]}):t.jsx(i,{icon:m.minus[e]})}),t.jsx("div",{className:"cartItem__counter",children:s}),t.jsx("button",{className:"cartItem__button",onClick:()=>o(a,s+1),children:t.jsx(i,{icon:m.plus[e]})})]}),t.jsx("div",{className:"cartItem__price",children:`$${l}`})]})]})});x.displayName="CartItem";const v=()=>{const{cart:a,clearShoppingCart:n}=c.useContext(p),{pathname:r}=g(),d=c.useMemo(()=>r.slice(1,2).toUpperCase()+r.slice(2),[r]),{totalCount:_,totalQuantity:s}=c.useMemo(()=>{let e=0,l=0;for(const{quantity:u,product:{price:h}}of a)e+=u,l+=u*h;return{totalQuantity:e,totalCount:l}},[a]),o=c.useCallback(()=>{confirm("Checkout is not implemented yet. Do you want to clear the Cart?")&&n()},[n]);return t.jsxs("div",{className:"cartPage",children:[t.jsx(C,{}),t.jsx("h1",{className:"cartPage__title",children:d}),a.length?null:t.jsxs("div",{className:"cartPage__empty-content",children:[t.jsx("span",{className:"cartPage__empty-content-title",children:"Your cart is empty"}),t.jsx("img",{src:"img/cart-is-empty.png",alt:"Empty shopping cart",className:"cartPage__image-empty"})]}),a.length?t.jsxs("div",{className:"cartPage__content",children:[t.jsx("div",{className:"cartPage__content-container",children:a.map(e=>t.jsx(x,{cartProduct:e},e.id))}),t.jsxs("div",{className:"cartPage__total",children:[t.jsxs("div",{className:"cartPage__total-count",children:["$",_]}),t.jsxs("div",{className:"cartPage__total-title",children:["Total for ",s," items"]}),t.jsx("div",{className:"cartPage__line"}),t.jsx("button",{className:"cartPage__button-checkout",onClick:o,children:"Checkout"})]})]}):null]})};export{v as ShoppingCartPage};
